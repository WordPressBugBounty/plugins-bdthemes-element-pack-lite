(()=>{"use strict";const e=(e,t)=>e.querySelector(`[data-title="${t}"]`),t=async(t,o,n)=>{const r=window.location.hash;if(!r)return;const c=r.substring(1),i=e(t,c);if(!i)return;const a=i.dataset.accordionIndex,s=i.closest(".bdt-ep-accordion"),d=s?.id;if(!a||!s)return;const l=window.bdtUIkit?.accordion(t);if(l)if("yes"===o.activeScrollspy&&d){const e=document.getElementById(d);e&&await((e,t=0,o=1e3)=>new Promise((n=>{const r=e.getBoundingClientRect().top+window.pageYOffset-t,c=window.pageYOffset,i=r-c;let a=null;const s=e=>{null===a&&(a=e);const t=e-a,r=Math.min(t/o,1),d=r<.5?2*r*r:1-Math.pow(-2*r+2,2)/2;window.scrollTo(0,c+i*d),t<o?requestAnimationFrame(s):n()};requestAnimationFrame(s)})))(e,o.hashTopOffset,n),l.toggle(parseInt(a),!1)}else l.toggle(parseInt(a),!0)},o=o=>{const n=(o instanceof jQuery?o[0]:o).querySelector(".bdt-ep-accordion-container");if(!n)return;const r=n.querySelector(".bdt-ep-accordion");if(!r)return;const c=n.querySelectorAll(".bdt-ep-accordion-item.bdt-open"),i=r.dataset.settings;if(!i)return;let a;try{a="string"==typeof i?JSON.parse(i):i}catch(e){return void console.error("Failed to parse accordion settings:",e)}const{activeHash:s="no",hashTopOffset:d=0,hashScrollspyTime:l=1e3,activeScrollspy:w="no",closeAllItemsOnMobile:f=!1}=a;if(a.activeScrollspy=w,f&&window.matchMedia("(max-width: 767px)").matches&&c.forEach((e=>{e.classList.remove("bdt-open");const t=e.querySelector(".bdt-ep-accordion-content");t&&(t.hidden=!0)})),"yes"===s){const o=new AbortController,n=o.signal,c=()=>{const o=window.location.hash;if(!o)return;const n=o.substring(1),c=e(r,n);if(c&&c.dataset.accordionIndex){const e=parseInt(c.dataset.accordionIndex),o=window.bdtUIkit?.accordion(r);o&&("yes"===w?t(r,a,l):o.toggle(e,!1))}},i=e=>{const o=e.currentTarget.dataset.title;o&&(window.location.hash=o.trim(),t(r,a,1e3))},s=()=>{t(r,a,1e3)};"complete"===document.readyState?c():window.addEventListener("load",c,{signal:n,once:!0}),window.addEventListener("hashchange",s,{signal:n});r.querySelectorAll(".bdt-ep-accordion-title").forEach((e=>{e.addEventListener("click",i,{signal:n})})),r._cleanupAccordion=()=>{o.abort()}}};window.addEventListener("elementor/frontend/init",(()=>{window.elementorFrontend?.hooks&&(elementorFrontend.hooks.addAction("frontend/element_ready/bdt-accordion.default",o),elementorFrontend.hooks.addAction("frontend/element_ready/bdt-acf-accordion.default",o))}))})();