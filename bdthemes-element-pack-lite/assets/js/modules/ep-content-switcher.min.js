(()=>{"use strict";const e=e=>{const t=(e instanceof jQuery?e[0]:e).querySelector(".bdt-content-switcher");if(!t)return;const n=e=>{const n=t.dataset[e];if(n)try{return"string"==typeof n?JSON.parse(n):n}catch(t){return void console.error(`Failed to parse content switcher data-${e}:`,t)}},c=n("settings"),r=n("linkedSections"),i=n("linkedWidgets"),o=Boolean(elementorFrontend.isEditMode()),s=r?`bdt-content-switcher-section-${r.id}`:null,d=e=>{if(!r?.positionUnchanged||!s)return;const t=document.querySelectorAll(`#${s} .bdt-switcher-section-content-inner`);t.forEach((e=>e.classList.remove("bdt-active"))),t[e]?.classList.add("bdt-active")},a=e=>{i&&Object.entries(i.widgets).forEach((([t,n])=>{const c=document.getElementById(n);if(!c)return;const r=+t===e;c.style.opacity=r?"1":"0",c.style.display=r?"block":"none"}))};if(void 0===r||o||Object.entries(r.sections).forEach((([e,n])=>{const c=+e,i=t.querySelectorAll(".bdt-switcher-content")[c],o=document.getElementById(n);if(o)if(!0!==r.positionUnchanged){const e=i?.querySelector(".bdt-switcher-item-content-section");i&&e&&e.appendChild(o)}else{const e=t.querySelectorAll(".bdt-switcher-content"),n=t.querySelector(".bdt-primary")?.classList.contains("bdt-active"),r=e[c]?.classList.contains("bdt-active"),i=0===c&&n||c>0&&r?"bdt-active":"";document.getElementById(s)||o.parentElement.insertAdjacentHTML("beforeend",`<div id="${s}" class="bdt-switcher bdt-switcher-section-content"></div>`);document.getElementById(s).appendChild(o);const d=document.createElement("div");d.className=`bdt-switcher-section-content-inner ${i}`.trim(),o.parentNode.insertBefore(d,o),d.appendChild(o)}})),void 0===i||o||Object.entries(i.widgets).forEach((([e,n])=>{const r=document.getElementById(n);if(!r)return;const i=+e,o=t.querySelectorAll(".bdt-switcher-content");let s=!1;"button"!==c?.switcherStyle?0===i?s=t.querySelector(".bdt-primary")?.classList.contains("bdt-active")??!1:1===i&&(s=t.querySelector(".bdt-secondary")?.classList.contains("bdt-active")??!1):s=o[i]?.classList.contains("bdt-active")??!1,Object.assign(r.style,{opacity:s?"1":"0",display:s?"block":"none",gridRowStart:"1",gridColumnStart:"1"}),r.parentElement.style.display="grid"})),"button"!==c?.switcherStyle){const e=t.querySelector('input[type="checkbox"]'),n=t.querySelector(".bdt-primary-switcher"),c=t.querySelector(".bdt-secondary-switcher"),r=t.querySelector(".bdt-primary-icon"),i=t.querySelector(".bdt-secondary-icon"),o=t.querySelector(".bdt-primary-text"),s=t.querySelector(".bdt-secondary-text"),l=t.querySelector(".bdt-switcher-content.bdt-primary"),b=t.querySelector(".bdt-switcher-content.bdt-secondary"),y=e=>{[n,r,o,l].forEach((t=>{t?.classList.toggle("bdt-active",!e)})),[c,i,s,b].forEach((t=>{t?.classList.toggle("bdt-active",e)})),d(e?1:0),a(e?1:0)};e?.addEventListener("change",(e=>y(e.target.checked)))}else{t.querySelectorAll(".bdt-content-switcher-tab").forEach((e=>{e.addEventListener("click",(()=>{const n=e.id,c=t.querySelector(`.bdt-switcher-content[data-content-id="${n}"]`),r=[...e.parentElement.children].indexOf(e);[...e.parentElement.children].forEach((e=>e.classList.remove("bdt-active"))),e.classList.add("bdt-active"),[...e.parentElement.nextElementSibling?.children??[]].forEach((e=>e.classList.remove("bdt-active"))),c?.classList.add("bdt-active"),d(r),a(r)}))}))}};window.addEventListener("elementor/frontend/init",(()=>{window.elementorFrontend?.hooks&&elementorFrontend.hooks.addAction("frontend/element_ready/bdt-content-switcher.default",e)}))})();